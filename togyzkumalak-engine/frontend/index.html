<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Togyzkumalak Engine - AI Game</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Background Tech Grid -->
    <div class="tech-grid"></div>
    
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">üéÆ</span>
                <h1>–¢–æ“ì—ã–∑ “ö“±–º–∞–ª–∞“õ</h1>
            </div>
            
            <!-- Mode Tabs -->
            <div class="mode-tabs">
                <button class="mode-tab active" data-mode="play">üéØ –ò–≥—Ä–∞—Ç—å</button>
                <button class="mode-tab" data-mode="replays">üìº –†–µ–ø–ª–µ–∏</button>
                <button class="mode-tab" data-mode="training">üß† –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</button>
                <button class="mode-tab" data-mode="gemini-battle">‚öîÔ∏è VS Arena</button>
                <button class="mode-tab" data-mode="analytics">üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
            </div>
            
            <!-- Statistics in header -->
            <div class="header-stats" id="headerStats">
                <div class="stat-item">
                    <span class="stat-label">ELO:</span>
                    <span class="stat-value" id="currentElo">1500</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–ò–≥—Ä—ã:</span>
                    <span class="stat-value" id="totalGames">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–ü–æ–±–µ–¥—ã:</span>
                    <span class="stat-value" id="totalWins">0</span>
                </div>
            </div>
            
            <!-- Theme Switcher -->
            <button class="theme-switcher" id="themeSwitcher" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">
                <svg viewBox="0 0 24 24">
                    <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
                </svg>
                <span class="theme-label" id="themeLabel">–¢–µ–º–∞</span>
            </button>
        </header>

        <!-- ============================================ -->
        <!-- PLAY MODE -->
        <!-- ============================================ -->
        <main class="main-content" id="playMode">
            <!-- Game Setup Panel (shown initially) -->
            <div id="setupPanel" class="panel setup-panel">
                <h2>üéØ –ù–æ–≤–∞—è –ò–≥—Ä–∞</h2>
                
                <!-- Active Model Info -->
                <div class="active-model-info" id="activeModelInfo">
                    <span class="model-label">üß† –ê–∫—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å:</span>
                    <span class="model-name" id="activeModelName">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                </div>
                
                <div class="setup-section">
                    <label>–ò–≥—Ä–∞—Ç—å –∑–∞:</label>
                    <div class="color-selector">
                        <button class="color-btn active" data-color="white">
                            ‚ö™ –ë–µ–ª—ã–µ (–ë–∞—Å—Ç–∞—É—à—ã)
                        </button>
                        <button class="color-btn" data-color="black">
                            ‚ö´ –ß—ë—Ä–Ω—ã–µ (“ö–æ—Å—Ç–∞—É—à—ã)
                        </button>
                    </div>
                </div>

                <div class="setup-section">
                    <label>–£—Ä–æ–≤–µ–Ω—å –ò–ò:</label>
                    <div class="level-selector">
                        <button class="level-btn" data-level="1">
                            <span class="level-num">1</span>
                            <span class="level-name">–°–ª—É—á–∞–π–Ω—ã–π</span>
                            <span class="level-elo">~800</span>
                        </button>
                        <button class="level-btn" data-level="2">
                            <span class="level-num">2</span>
                            <span class="level-name">–ù–∞—á–∏–Ω–∞—é—â–∏–π</span>
                            <span class="level-elo">~1200</span>
                        </button>
                        <button class="level-btn active" data-level="3">
                            <span class="level-num">3</span>
                            <span class="level-name">–°—Ä–µ–¥–Ω–∏–π</span>
                            <span class="level-elo">~1500</span>
                        </button>
                        <button class="level-btn" data-level="4">
                            <span class="level-num">4</span>
                            <span class="level-name">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</span>
                            <span class="level-elo">~1800</span>
                        </button>
                        <button class="level-btn" data-level="5">
                            <span class="level-num">5</span>
                            <span class="level-name">–≠–∫—Å–ø–µ—Ä—Ç</span>
                            <span class="level-elo">~2100</span>
                        </button>
                        <button class="level-btn level-gemini" data-level="6">
                            <span class="level-num">ü§ñ</span>
                            <span class="level-name">Gemini AI</span>
                            <span class="level-elo">~2400</span>
                        </button>
                        <button class="level-btn level-probs" data-level="7">
                            <span class="level-num">üéØ</span>
                            <span class="level-name">PROBS AI</span>
                            <span class="level-elo">~2200</span>
                        </button>
                    </div>
                </div>

                <button id="btnStartGame" class="btn btn-primary btn-large">
                    ‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å –ò–≥—Ä—É
                </button>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>New Game</strong> - Start a game against the AI at different difficulty levels.</p>
                    <p><strong>Levels 1-2:</strong> Simple heuristics, good for learning the rules.</p>
                    <p><strong>Levels 3-5:</strong> Neural network AI. Level 5 uses the currently loaded model (shown above).</p>
                    <p><strong>Gemini AI:</strong> Google's LLM plays via API - unpredictable but educational.</p>
                    <p><strong>Tip:</strong> Load a trained model in the Training tab to improve Level 5 AI.</p>
                </div>
            </div>

            <!-- Game Panel (hidden initially) -->
            <div id="gamePanel" class="panel game-panel hidden">
                <!-- Score Panel (Kazans) -->
                <div class="score-panel" id="scorePanel">
                    <!-- Left Avatar (Black side) -->
                    <div class="score-avatar" id="leftAvatar">
                        <div class="avatar-icon">üë§</div>
                        <div class="avatar-label">–í–´</div>
                    </div>

                    <div class="score-side score-black">
                        <div class="score-label">–ß–Å–†–ù–´–ï</div>
                        <div class="score-value" id="blackKazan">0</div>
                        <div class="score-bar">
                            <div class="score-bar-fill black-bar" id="blackBarFill"></div>
                        </div>
                        <div class="score-kumalaks" id="blackKumalaks"></div>
                    </div>
                    <div class="score-center">
                        <div class="score-vs">VS</div>
                        <div class="score-target">–¶–µ–ª—å: 82</div>
                    </div>
                    <div class="score-side score-white">
                        <div class="score-label">–ë–ï–õ–´–ï</div>
                        <div class="score-value" id="whiteKazan">0</div>
                        <div class="score-bar">
                            <div class="score-bar-fill white-bar" id="whiteBarFill"></div>
                        </div>
                        <div class="score-kumalaks" id="whiteKumalaks"></div>
                    </div>

                    <!-- Right Avatar (White side) -->
                    <div class="score-avatar" id="rightAvatar">
                        <div class="avatar-icon">ü§ñ</div>
                        <div class="avatar-label">AI</div>
                    </div>
                </div>

                <!-- Info Bar -->
                <div class="info-bar">
                    <div class="player-info player-black">
                        <div class="player-label">‚ö´ “ö–ê–†–ê (AI)</div>
                        <div class="player-elo" id="aiElo">ELO: 1500</div>
                    </div>
                    <div class="game-status">
                        <div class="turn-indicator" id="turnIndicator">–í–∞—à –•–æ–¥</div>
                        <div class="move-counter" id="moveCounter">–•–æ–¥: 0</div>
                    </div>
                    <div class="player-info player-white">
                        <div class="player-label">‚ö™ –ê“ö (–í—ã)</div>
                        <div class="player-elo" id="playerElo">ELO: 1500</div>
                    </div>
                </div>

                <!-- Board Container - Only Classic View -->
                <div class="board-wrapper classic-active">
                    <canvas id="classicBoard" class="board-classic" width="900" height="450"></canvas>
                </div>

                <!-- Last Move Info -->
                <div class="last-move" id="lastMove">
                    –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥: -
                </div>

                <!-- Game Controls -->
                <div class="game-controls">
                    <button id="btnUndo" class="btn btn-secondary" disabled>‚Ü©Ô∏è –û—Ç–º–µ–Ω–∏—Ç—å</button>
                    <button id="btnNewGame" class="btn btn-secondary">üîÑ –ù–æ–≤–∞—è –ò–≥—Ä–∞</button>
                    <div class="confidence-selector-group">
                        <button id="btnToggleConfidence" class="btn btn-secondary" title="–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏">
                            üìä –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: ON
                        </button>
                        <select id="selectConfidenceModel" class="btn btn-secondary confidence-select" title="–í—ã–±–µ—Ä–∏—Ç–µ –Ω–µ–π—Ä–æ—Å–µ—Ç—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞">
                            <option value="all">üìä –í—Å–µ —Ç—Ä–∏ —Å—Ä–∞–∑—É</option>
                            <option value="auto">ü§ñ –ê–≤—Ç–æ (AI)</option>
                            <option value="polynet">üß† PolyNet</option>
                            <option value="alphazero">ü¶æ AlphaZero</option>
                            <option value="probs">üéØ PROBS</option>
                        </select>
                    </div>
                    <div class="confidence-legend">
                        <span class="legend-item"><i class="dot polynet"></i> PolyNet</span>
                        <span class="legend-item"><i class="dot alphazero"></i> AlphaZero</span>
                        <span class="legend-item"><i class="dot probs"></i> PROBS</span>
                    </div>
                    <button id="btnResign" class="btn btn-danger">üè≥Ô∏è –°–¥–∞—Ç—å—Å—è</button>
                </div>
            </div>

            <!-- Side Panel -->
            <aside class="side-panel">
                <!-- Move History -->
                <div class="panel history-panel">
                    <h3>üìú –ò—Å—Ç–æ—Ä–∏—è –•–æ–¥–æ–≤</h3>
                    <div class="move-list" id="moveList">
                        <!-- Moves will be added here -->
                    </div>
                    
                    <!-- Panel Annotation -->
                    <div class="panel-annotation">
                        <h4>üìñ About this panel</h4>
                        <p><strong>Move History</strong> - A chronological list of all moves made in the current game.</p>
                        <p><strong>Notation:</strong> Each entry shows the pit number (1-9) selected by the player.</p>
                        <p><strong>Interactive:</strong> Clicking on a move in the list allows you to jump back to that state (if supported by the mode).</p>
                    </div>
                </div>

                <!-- Gemini Analysis Panel -->
                <div class="panel analysis-panel">
                    <h3>ü§ñ AI –ê–Ω–∞–ª–∏–∑</h3>
                    <div class="analysis-controls">
                        <button id="btnAnalyze" class="btn btn-small btn-analyze-styled">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button id="btnSuggest" class="btn btn-small btn-suggest-styled">–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –•–æ–¥</button>
                        <label class="auto-analysis-toggle" title="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ö–æ–¥–∞ –ò–ò">
                            <input type="checkbox" id="checkAutoAnalyze" checked>
                            <span>–ê–≤—Ç–æ-–∞–Ω–∞–ª–∏–∑</span>
                        </label>
                    </div>
                    
                    <!-- Voice Controls -->
                    <div class="voice-controls" id="voiceControls">
                        <button id="btnVoiceToggle" class="btn btn-icon btn-voice-toggle voice-on" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –≥–æ–ª–æ—Å">
                            <svg class="voice-icon voice-on-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                            </svg>
                            <svg class="voice-icon voice-off-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
                            </svg>
                        </button>
                        <button id="btnVoicePause" class="btn btn-icon" title="–ü–∞—É–∑–∞/–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" disabled>
                            ‚è∏Ô∏è
                        </button>
                        <button id="btnVoiceRecord" class="btn btn-icon" title="–ì–æ–≤–æ—Ä–∏—Ç—å —Å AI (—É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ)">
                            üé§
                        </button>
                        <span class="voice-status" id="voiceStatus"></span>
                    </div>
                    
                    <div class="analysis-content" id="analysisContent">
                        <p class="placeholder">–ù–∞–∂–º–∏—Ç–µ "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å" –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç Gemini.</p>
                    </div>
                    
                    <!-- Panel Annotation -->
                    <div class="panel-annotation">
                        <h4>üìñ About this panel</h4>
                        <p><strong>AI Analysis</strong> - Real-time strategic insights provided by the Gemini Large Language Model.</p>
                        <p><strong>Features:</strong></p>
                        <ul>
                            <li><strong>Analyze:</strong> Provides a deep dive into the current board state, identifying threats and opportunities.</li>
                            <li><strong>Suggest:</strong> Gemini recommends the best move based on its tactical understanding.</li>
                        </ul>
                        <p><strong>Tip:</strong> Use this during practice games to understand expert-level Togyzkumalak logic.</p>
                    </div>
                </div>
            </aside>
        </main>

        <!-- ============================================ -->
        <!-- REPLAYS MODE -->
        <!-- ============================================ -->
        <main class="main-content hidden" id="replaysMode">
            <!-- Replay Selector -->
            <div class="panel replay-selector-panel">
                <h2>üìº –ó–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –ü–∞—Ä—Ç–∏–∏ (Gym Simulations)</h2>
                <div class="replay-list" id="replayList">
                    <p class="placeholder">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –ø–∞—Ä—Ç–∏–π...</p>
                </div>
                
                <!-- Gemini Battle Replays Section -->
                <h3 style="margin-top: 24px; color: var(--accent-secondary);">ü§ñ –ë–∞—Ç–ª—ã –ø—Ä–æ—Ç–∏–≤ Gemini</h3>
                <div class="replay-list" id="geminiBattleReplayList">
                    <p class="placeholder">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä –ø—Ä–æ—Ç–∏–≤ Gemini...</p>
                </div>
                
                <!-- Custom Move Parser Section -->
                <div class="custom-replay-section">
                    <h3>üìù –†–∞–∑–æ–±—Ä–∞—Ç—å —Å–≤–æ—é –ø–∞—Ä—Ç–∏—é</h3>
                    <p class="section-hint">–í—Å—Ç–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å—å —Ö–æ–¥–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: 1.e4 e5 2.Nf3... –∏–ª–∏ 1,5,3,7...</p>
                    <textarea id="customMovesInput" class="custom-moves-input" placeholder="–ü—Ä–∏–º–µ—Ä: 1,5,3,7,2,6,4,8,9 –∏–ª–∏ 1.1 5 2.3 7..."></textarea>
                    <button id="btnParseCustomMoves" class="btn btn-secondary">üîç –†–∞–∑–æ–±—Ä–∞—Ç—å –Ω–∞ –¥–æ—Å–∫–µ</button>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Replays</strong> - Review past games to learn and improve.</p>
                    <p><strong>Gym Simulations:</strong> Games played during self-play training (AI vs AI).</p>
                    <p><strong>Gemini Battles:</strong> Games where your model played against Google's Gemini LLM.</p>
                    <p><strong>Custom Parser:</strong> Paste your own game notation to visualize on the board.</p>
                    <p><strong>Tip:</strong> Use replay controls to step through moves and analyze positions.</p>
                </div>
            </div>

            <!-- Replay Viewer Wrapper -->
            <div id="replayViewer" class="replay-viewer hidden">
                <!-- Replay Info Bar -->
                <div class="info-bar" style="max-width: 900px; width: 100%;">
                    <div class="player-info player-black">
                        <div class="player-label">‚ö´ “ö–ê–†–ê (Black)</div>
                        <div class="player-elo" id="replayBlackScore">–ö–∞–∑–∞–Ω: 0</div>
                    </div>
                    <div class="game-status">
                        <div class="turn-indicator" id="replayCurrentPlayer">WHITE</div>
                        <div class="move-counter" id="replayStepCounter">–®–∞–≥: 0 / 0</div>
                    </div>
                    <div class="player-info player-white">
                        <div class="player-label">‚ö™ –ê“ö (White)</div>
                        <div class="player-elo" id="replayWhiteScore">–ö–∞–∑–∞–Ω: 0</div>
                    </div>
                </div>

                <!-- Replay Board -->
                <div class="board-wrapper classic-active">
                    <canvas id="replayBoard" class="board-classic" width="900" height="450"></canvas>
                </div>

                <!-- Replay Controls Container -->
                <div class="replay-controls-container">
                    <div class="replay-progress">
                        <div class="progress-bar" id="replayProgressBar">
                            <div class="progress-fill" id="replayProgressFill"></div>
                        </div>
                    </div>

                    <div class="replay-controls">
                        <button id="btnReplayFirst" class="btn btn-secondary">‚èÆ –ù–∞—á–∞–ª–æ</button>
                        <button id="btnReplayPrev" class="btn btn-secondary">‚è™ –ù–∞–∑–∞–¥</button>
                        <button id="btnReplayPlay" class="btn btn-primary">‚ñ∂Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏</button>
                        <button id="btnReplayNext" class="btn btn-secondary">‚è© –í–ø–µ—Ä—ë–¥</button>
                        <button id="btnReplayLast" class="btn btn-secondary">‚è≠ –ö–æ–Ω–µ—Ü</button>
                    </div>

                    <div class="speed-control">
                        <label>–°–∫–æ—Ä–æ—Å—Ç—å: </label>
                        <input type="range" id="replaySpeed" min="100" max="2000" value="500">
                        <span id="replaySpeedValue" style="margin-left: 10px;">500ms</span>
                    </div>
                </div>

                <!-- Winner Banner -->
                <div class="winner-banner hidden" id="replayWinnerBanner" style="max-width: 900px; width: 100%;">
                    üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: WHITE (83:57) üèÜ
                </div>

                <!-- Replay Info Panels -->
                <div class="replay-bottom-info">
                    <div class="panel">
                        <h3>üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ü–∞—Ä—Ç–∏–∏</h3>
                        <div id="replayInfo" class="replay-info">
                            <p class="placeholder">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä—Ç–∏—é –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</p>
                        </div>
                        
                        <!-- Panel Annotation -->
                        <div class="panel-annotation">
                            <h4>üìñ About this panel</h4>
                            <p><strong>Game Metadata</strong> - Displays technical details about the recorded game.</p>
                            <p><strong>Content:</strong> Final scores, winning side, model versions, and total steps taken. This is essential for distinguishing between human-like and AI-only games.</p>
                        </div>
                    </div>
                    <div class="panel">
                        <h3>üîç –ü–æ—Å–ª–µ–¥–Ω–µ–µ –î–µ–π—Å—Ç–≤–∏–µ</h3>
                        <div id="replayLastAction" class="last-action-info">
                            -
                        </div>
                        
                        <!-- Panel Annotation -->
                        <div class="panel-annotation">
                            <h4>üìñ About this panel</h4>
                            <p><strong>Action Inspector</strong> - Shows the detailed logic of the most recent move.</p>
                            <p><strong>Details:</strong> Pit number, captures made, and any special board rules (like <em>Tuzdyk</em>) that were triggered during the move distribution.</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Training Logs Modal -->
        <div id="trainingLogsModal" class="modal hidden">
            <div class="modal-content" style="max-width: 90%; max-height: 90vh;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 id="trainingLogsTitle">üìã –õ–æ–≥–∏ –æ–±—É—á–µ–Ω–∏—è</h2>
                    <button id="btnCloseTrainingLogs" class="btn btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                    <button id="btnRefreshLogs" class="btn btn-primary">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                    <button id="btnCopyLogs" class="btn btn-secondary">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
                <div id="trainingLogsContent" style="
                    background: #1e1e1e;
                    color: #d4d4d4;
                    padding: 15px;
                    border-radius: 8px;
                    font-family: 'Courier New', monospace;
                    font-size: 12px;
                    max-height: 70vh;
                    overflow-y: auto;
                    white-space: pre-wrap;
                    word-wrap: break-word;
                ">–ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ–≤...</div>
            </div>
        </div>

        <!-- Game Over Modal -->
        <!-- Optimal Config Modal -->
        <div id="optimalConfigModal" class="modal hidden">
            <div class="modal-content">
                <h2>‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h2>
                <p>–°–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è?</p>
                <input type="number" id="hoursInput" value="1" min="0.5" max="24" step="0.5" class="input-field" style="width: 200px; margin: 20px 0;">
                <div class="modal-buttons">
                    <button id="btnApplyOptimalConfig" class="btn btn-primary">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                    <button id="btnCancelOptimalConfig" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <div id="gameOverModal" class="modal hidden">
            <div class="modal-content">
                <h2 id="gameOverTitle">üéâ –ò–≥—Ä–∞ –û–∫–æ–Ω—á–µ–Ω–∞!</h2>
                <div class="game-result" id="gameResult">
                    <p class="winner-text" id="winnerText">–í—ã –ü–æ–±–µ–¥–∏–ª–∏!</p>
                    <p class="score-text" id="scoreText">–°—á—ë—Ç: 82 - 80</p>
                    <p class="elo-change" id="eloChangeText">ELO: +15</p>
                </div>
                <div class="modal-buttons">
                    <button id="btnPlayAgain" class="btn btn-primary">–ò–≥—Ä–∞—Ç—å –°–Ω–æ–≤–∞</button>
                    <button id="btnCloseModal" class="btn btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- TRAINING MODE -->
        <!-- ============================================ -->
        <main class="main-content hidden" id="trainingMode">
            <!-- Training Data Panel -->
            <div class="panel training-data-panel">
                <h2>üìÇ –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –î–∞–Ω–Ω—ã–µ</h2>
                <p class="panel-description">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –¥–æ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏</p>
                
                <div class="data-stats-grid" id="trainingDataStats">
                    <div class="data-stat-card">
                        <div class="stat-icon">üìö</div>
                        <div class="stat-value" id="statOpeningBook">0</div>
                        <div class="stat-label">–î–µ–±—é—Ç–Ω–∞—è –∫–Ω–∏–≥–∞</div>
                    </div>
                    <div class="data-stat-card">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-value" id="statTournament">0</div>
                        <div class="stat-label">–¢—É—Ä–Ω–∏—Ä—ã</div>
                    </div>
                    <div class="data-stat-card">
                        <div class="stat-icon">üéÆ</div>
                        <div class="stat-value" id="statPlayOK">0</div>
                        <div class="stat-label">PlayOK</div>
                    </div>
                    <div class="data-stat-card highlight">
                        <div class="stat-icon">Œ£</div>
                        <div class="stat-value" id="statTotalGamesData">0</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –∏–≥—Ä</div>
                    </div>
                    <div class="data-stat-card">
                        <div class="stat-icon">‚ÜîÔ∏è</div>
                        <div class="stat-value" id="statTransitions">0</div>
                        <div class="stat-label">–ü–µ—Ä–µ—Ö–æ–¥–æ–≤</div>
                    </div>
                </div>
                
                <div class="data-files-section">
                    <h3>üìÅ –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö</h3>
                    <div class="upload-section">
                        <input type="file" id="uploadTrainingFile" accept=".jsonl,.json" multiple style="display: none;">
                        <button class="action-btn" onclick="document.getElementById('uploadTrainingFile').click()">
                            üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö (.jsonl)
                        </button>
                        <span id="uploadStatus" class="upload-status"></span>
                    </div>
                    <div id="dataFilesList" class="data-files-list">
                        <p class="empty-text">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                    </div>
                </div>
                
                <!-- Training Configuration -->
                <div class="human-training-config">
                    <h3>‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–æ–±—É—á–µ–Ω–∏—è</h3>
                    <div class="config-grid">
                        <div class="config-item config-item-wide">
                            <label for="humanBaseModel">–ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å:</label>
                            <select id="humanBaseModel" class="input-field">
                                <option value="">üÜï –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å (—Å –Ω—É–ª—è)</option>
                            </select>
                            <small>–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–æ–æ–±—É—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π</small>
                        </div>
                        <div class="config-item">
                            <label for="humanEpochs">–≠–ø–æ—Ö–∏:</label>
                            <input type="number" id="humanEpochs" value="50" min="10" max="200" class="input-field">
                            <small>(—Ä–µ–∫. 50-100)</small>
                        </div>
                        <div class="config-item">
                            <label for="humanBatchSize">Batch:</label>
                            <input type="number" id="humanBatchSize" value="128" min="32" max="512" step="32" class="input-field">
                            <small>(—Ä–µ–∫. 128)</small>
                        </div>
                        <div class="config-item">
                            <label for="humanLearningRate">LR:</label>
                            <input type="number" id="humanLearningRate" value="0.001" min="0.0001" max="0.01" step="0.0001" class="input-field">
                            <small>(—Ä–µ–∫. 0.001)</small>
                        </div>
                    </div>
                </div>
                
                <div class="data-actions">
                    <button id="btnParseData" class="btn btn-secondary">
                        üîÑ –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥
                    </button>
                    <button id="btnTrainOnHuman" class="btn btn-primary btn-large">
                        üéì –î–æ–æ–±—É—á–∏—Ç—å –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
                    </button>
                    <button id="btnOpenFaq" class="btn btn-secondary" title="–û—Ç–∫—Ä—ã—Ç—å FAQ">
                        ‚ùì FAQ
                    </button>
                </div>
                
                <div id="humanTrainingProgress" class="human-training-progress hidden">
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="humanTrainingBar"></div>
                    </div>
                    <p class="progress-text" id="humanTrainingText">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞...</p>
                    
                    <!-- Training Chart -->
                    <div class="training-chart-container">
                        <canvas id="trainingChart" height="150"></canvas>
                    </div>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Human Training Data</strong> - Train your model on real human games.</p>
                    <p><strong>Data sources:</strong> Opening books (debut strategies), tournament games, PlayOK online games.</p>
                    <p><strong>Workflow:</strong></p>
                    <ol>
                        <li>Click "üîÑ –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥" to parse new game files</li>
                        <li>Select base model (or start fresh)</li>
                        <li>Set epochs (50-100), batch size (128), learning rate (0.001)</li>
                        <li>Click "üéì –î–æ–æ–±—É—á–∏—Ç—å" to start training</li>
                    </ol>
                    <p><strong>Expected results:</strong> Accuracy 30-40% is typical. Higher epochs may overfit.</p>
                </div>
                
            </div>
            
            <!-- Training Configuration Panel -->
            <div class="panel training-config-panel">
                <h2>‚öôÔ∏è Self-Play –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (PolicyNetwork)</h2>
                
                <div class="config-section active-model-indicator">
                    <p class="config-info">‚ÑπÔ∏è <strong>–ê–∫—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å:</strong> <span id="selfPlayActiveModel">policy_net (default)</span></p>
                    <p class="config-warning" id="selfPlayArchWarning" style="display:none;">‚ö†Ô∏è AlphaZero –º–æ–¥–µ–ª–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å Self-Play! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ AlphaZero —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –Ω–∏–∂–µ.</p>
                </div>
                
                <div class="config-section">
                    <label for="numGames">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä:</label>
                    <input type="number" id="numGames" min="1" max="1000" value="10" class="input-field">
                </div>
                
                <div class="config-section">
                    <label for="epsilon">Epsilon (–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ):</label>
                    <input type="number" id="epsilon" min="0" max="1" step="0.05" value="0.2" class="input-field">
                    <small>0.0 = –∂–∞–¥–Ω—ã–π, 1.0 = —Å–ª—É—á–∞–π–Ω—ã–π</small>
                </div>
                
                <div class="config-section">
                    <label for="hiddenSize">–†–∞–∑–º–µ—Ä —Å–∫—Ä—ã—Ç–æ–≥–æ —Å–ª–æ—è:</label>
                    <input type="number" id="hiddenSize" min="32" max="256" step="32" value="64" class="input-field">
                </div>
                
                <div class="config-section">
                    <label for="modelName">–ò–º—è –º–æ–¥–µ–ª–∏:</label>
                    <input type="text" id="modelName" value="policy_net" class="input-field">
                </div>
                
                <div class="config-section">
                    <label class="checkbox-label">
                        <input type="checkbox" id="saveReplays" checked>
                        <span>–°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ–ø–ª–µ–∏ (–ø–µ—Ä–≤—ã–µ 3 –∏–≥—Ä—ã)</span>
                    </label>
                </div>
                
                <button id="btnStartTraining" class="btn btn-primary btn-large">
                    üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å Self-Play
                </button>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Self-Play Training (PolicyNetwork)</strong> - Basic reinforcement learning where the AI plays against itself to improve.</p>
                    <p><strong>When to use:</strong> Use this for rapid iteration or testing changes in the <code>PolicyNetwork</code> architecture before moving to more intensive AlphaZero training.</p>
                    <p><strong>Parameters:</strong></p>
                    <ul>
                        <li><strong>Epsilon:</strong> Chance of making a random move. Lower values (0.1-0.2) make the AI focus on what it already knows.</li>
                        <li><strong>Hidden Size:</strong> Number of neurons in the network layers (64-128 recommended).</li>
                    </ul>
                    <p><strong>Workflow:</strong> Set games count, click üöÄ, and watch the win rates evolve in the progress panel.</p>
                </div>
            </div>
            
            <!-- Training Progress Panel -->
            <div class="panel training-progress-panel">
                <h2>üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h2>
                
                <div id="trainingStatus" class="training-status">
                    <p class="status-text">–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞...</p>
                </div>
                
                <div id="trainingProgress" class="progress-container hidden">
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="trainingProgressBar"></div>
                    </div>
                    <p class="progress-text" id="trainingProgressText">0 / 10 –∏–≥—Ä</p>
                </div>
                
                <div id="trainingStats" class="training-stats hidden">
                    <div class="stat-row">
                        <span class="stat-label">–ü–æ–±–µ–¥ –±–µ–ª—ã—Ö:</span>
                        <span class="stat-value" id="whiteWins">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">–ü–æ–±–µ–¥ —á—ë—Ä–Ω—ã—Ö:</span>
                        <span class="stat-value" id="blackWins">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">–ù–∏—á—å–∏:</span>
                        <span class="stat-value" id="draws">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">–°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞:</span>
                        <span class="stat-value" id="avgSteps">0</span>
                    </div>
                </div>
                
                <h3>üíæ –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ú–æ–¥–µ–ª–∏</h3>
                <div id="modelsList" class="models-list">
                    <p class="empty-text">–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π</p>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Training Progress & Models</strong> - Real-time tracking of the current self-play session and management of saved model weights.</p>
                    <p><strong>Functionality:</strong></p>
                    <ul>
                        <li><strong>Progress Bar:</strong> Shows how many games are completed in the current run.</li>
                        <li><strong>Stats Table:</strong> Displays the distribution of wins/losses/draws.</li>
                        <li><strong>Model List:</strong> Your library of saved <code>.pt</code> and <code>.pth.tar</code> files.</li>
                    </ul>
                    <p><strong>Actions:</strong> Use the "–ó–∞–≥—Ä—É–∑–∏—Ç—å" button on any model card to make it active for play or further training.</p>
                </div>
            </div>
            
            <!-- Training Sessions Panel -->
            <div class="panel training-sessions-panel">
                <h2>üìù –ò—Å—Ç–æ—Ä–∏—è –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</h2>
                <div id="sessionsList" class="sessions-list">
                    <p class="empty-text">–ù–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π</p>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Training History</strong> - Logs of completed <code>Gym</code> reinforcement learning sessions.</p>
                    <p><strong>Information:</strong> Each card represents a session, showing the win/loss distribution and average game length. This helps you identify which training parameters yielded the most competitive AI.</p>
                </div>
            </div>

            <!-- ============================================ -->
            <!-- ALPHAZERO DASHBOARD -->
            <!-- ============================================ -->
            <!-- SYNC DASHBOARD -->
            <!-- ============================================ -->
            <div class="panel sync-panel">
                <h2>üì° –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ß–µ–∫–ø–æ–∏–Ω—Ç–æ–≤</h2>
                <div class="sync-status-bar">
                    <div id="syncIndicator" class="sync-indicator disconnected">
                        <span class="dot"></span>
                        <span class="text">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: –û–¢–ö–õ–Æ–ß–ï–ù–ê</span>
                    </div>
                    <div id="syncLastTime" class="sync-last-time">-</div>
                </div>
                
                <div class="sync-config-grid">
                    <div class="config-item" style="grid-column: span 3;">
                        <label for="syncRemoteUrl">Remote Base URL:</label>
                        <input type="text" id="syncRemoteUrl" value="http://localhost" class="input-field" placeholder="–ü—Ä–∏–º–µ—Ä: http://localhost">
                    </div>
                    <div class="config-item" style="grid-column: span 2;">
                        <label for="syncPorts">–ü–æ—Ä—Ç—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):</label>
                        <input type="text" id="syncPorts" value="8000, 8080" class="input-field" placeholder="8000, 8080">
                    </div>
                </div>

                <div class="sync-actions">
                    <button id="btnSaveSyncConfig" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
                    <button id="btnRestartSync" class="btn btn-secondary">üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫</button>
                </div>
            </div>

            <!-- ============================================ -->
            <div class="panel alphazero-panel">
                <button class="panel-expand-btn" title="–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å">‚õ∂</button>
                <h2>ü¶æ AlphaZero - –ì–ª—É–±–æ–∫–æ–µ –û–±—É—á–µ–Ω–∏–µ</h2>
                <p class="panel-description">Self-Play –æ–±—É—á–µ–Ω–∏–µ —Å –ø–æ–∏—Å–∫–æ–º –ø–æ –¥–µ—Ä–µ–≤—É (MCTS)</p>
                
                <!-- GPU Info Banner -->
                <div id="gpuInfo" class="gpu-info-banner">
                    <span class="gpu-status loading">üîç –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ GPU...</span>
                </div>
                
                <div class="alphazero-config-grid">
                    <div class="config-item">
                        <label for="azIters">–ò—Ç–µ—Ä–∞—Ü–∏–∏:</label>
                        <input type="number" id="azIters" value="100" min="1" max="1000" class="input-field">
                        <small class="input-hint">–ë–æ–ª—å—à–µ = –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ</small>
                    </div>
                    <div class="config-item">
                        <label for="azEps">–ò–≥—Ä/–∏—Ç–µ—Ä:</label>
                        <input type="number" id="azEps" value="100" min="1" max="500" class="input-field">
                        <small class="input-hint">–ë–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞ –∏—Ç–µ—Ä–∞—Ü–∏—é</small>
                    </div>
                    <div class="config-item">
                        <label for="azSims">MCTS –°–∏–º—É–ª—è—Ü–∏–∏:</label>
                        <input type="number" id="azSims" value="100" min="10" max="800" class="input-field">
                        <small class="input-hint">–ì–ª—É–±–∏–Ω–∞ –ø–æ–∏—Å–∫–∞</small>
                    </div>
                    <div class="config-item">
                        <label for="azCpuct">Exploration (cpuct):</label>
                        <input type="number" id="azCpuct" value="1.0" step="0.1" min="0.1" max="5.0" class="input-field">
                    </div>
                    <div class="config-item">
                        <label for="azBatchSize">Batch Size:</label>
                        <input type="number" id="azBatchSize" value="256" min="32" max="1024" class="input-field">
                        <small class="input-hint">–ú–∞—Å—à—Ç–∞–± —Å GPU</small>
                    </div>
                    <div class="config-item">
                        <label for="azHiddenSize">Hidden Size:</label>
                        <input type="number" id="azHiddenSize" value="256" min="64" max="1024" class="input-field">
                        <small class="input-hint">–†–∞–∑–º–µ—Ä —Å–µ—Ç–∏</small>
                    </div>
                </div>

                <div class="alphazero-settings-row">
                    <div class="alphazero-settings">
                        <label class="checkbox-label">
                            <input type="checkbox" id="azUseBootstrap" checked>
                            <span>üìö Bootstrap —Å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏</span>
                        </label>
                    </div>
                    <div class="alphazero-settings">
                        <label class="checkbox-label">
                            <input type="checkbox" id="azParallel" checked>
                            <span>‚ö° –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π self-play</span>
                        </label>
                    </div>
                    <div class="alphazero-settings">
                        <label class="checkbox-label">
                            <input type="checkbox" id="azUseMcts" checked>
                            <span>üéØ MCTS –¥–ª—è –∏–≥—Ä—ã</span>
                        </label>
                    </div>
                </div>

                <div class="alphazero-actions">
                    <button id="btnLoadOptimalConfig" class="btn btn-secondary">
                        ‚ö° –ê–≤—Ç–æ-–∫–æ–Ω—Ñ–∏–≥ –¥–ª—è GPU
                    </button>
                    <button id="btnStartAlphaZero" class="btn btn-primary btn-large">
                        üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å AlphaZero
                    </button>
                    <button id="btnStopAlphaZero" class="btn btn-danger hidden">
                        ‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                    </button>
                    <button id="btnShowTrainingLogsAlways" class="btn btn-secondary">
                        üìã –õ–æ–≥–∏ –æ–±—É—á–µ–Ω–∏—è
                    </button>
                    <button id="btnStartAlphaZeroTournament" class="btn btn-warning" title="–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç—É—Ä–Ω–∏—Ä –º–µ–∂–¥—É –≤—Å–µ–º–∏ —á–µ–∫–ø–æ–π–Ω—Ç–∞–º–∏ AlphaZero">
                        üèÜ –¢—É—Ä–Ω–∏—Ä AlphaZero
                    </button>
                </div>
                
                <!-- System Update Button -->
                <div class="system-update-section" style="margin-top: 20px; padding: 15px; background: var(--bg-secondary); border-radius: 8px; border: 1px solid var(--border-color);">
                    <div style="display: flex; align-items: center; gap: 10px; justify-content: space-between;">
                        <div style="flex: 1;">
                            <strong>üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã</strong>
                            <div id="gitStatusInfo" style="font-size: 0.9em; color: var(--text-secondary); margin-top: 5px;">
                                –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞...
                            </div>
                            <div style="font-size: 0.85em; color: #ffa500; margin-top: 8px; padding: 8px; background: rgba(255,165,0,0.1); border-radius: 4px;">
                                ‚ö†Ô∏è <strong>–í–∞–∂–Ω–æ:</strong> –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –≤ Jupyter Notebook, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –µ–≥–æ —Ç–∞–º!<br>
                                –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä.
                            </div>
                        </div>
                        <button id="btnUpdateAndRestart" class="btn btn-primary">
                            üì• –û–±–Ω–æ–≤–∏—Ç—å —Å GitHub –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
                        </button>
                    </div>
                </div>

                <!-- Last Training Metrics Summary -->
                <div id="azLastMetrics" class="az-last-metrics">
                    <h3>üìä –ü–æ—Å–ª–µ–¥–Ω—è—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</h3>
                    <div class="metrics-summary-grid">
                        <div class="metric-box">
                            <span class="metric-label">Policy Loss</span>
                            <span class="metric-value" id="lastPolicyLoss">‚Äî</span>
                            <span class="metric-target">–¶–µ–ª—å: &lt; 1.0</span>
                        </div>
                        <div class="metric-box">
                            <span class="metric-label">Value Loss</span>
                            <span class="metric-value" id="lastValueLoss">‚Äî</span>
                            <span class="metric-target">–¶–µ–ª—å: &lt; 0.1</span>
                        </div>
                        <div class="metric-box">
                            <span class="metric-label">Win Rate</span>
                            <span class="metric-value" id="lastWinRate">‚Äî</span>
                            <span class="metric-target">–¶–µ–ª—å: &gt; 55%</span>
                        </div>
                        <div class="metric-box">
                            <span class="metric-label">–ü—Ä–∏–º–µ—Ä–æ–≤</span>
                            <span class="metric-value" id="totalExamples">‚Äî</span>
                            <span class="metric-target">–ë–æ–ª—å—à–µ = –ª—É—á—à–µ</span>
                        </div>
                    </div>
                    
                    <!-- Best checkpoint recommendation -->
                    <div id="bestCheckpointInfo" class="best-checkpoint-info"></div>
                    
                    <!-- Checkpoints list -->
                    <div class="checkpoints-section">
                        <h4>üèÜ –õ—É—á—à–∏–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã (–ø–æ Policy Loss)</h4>
                        <div id="azCheckpointsList" class="checkpoints-list"></div>
                    </div>
                </div>

                <!-- Training Progress (shown during training) -->
                <div id="azProgressSection" class="az-progress-section hidden">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3>üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è</h3>
                        <button id="btnShowTrainingLogs" class="btn btn-secondary">
                            üìã –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
                        </button>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="azProgressBar"></div>
                    </div>
                    <div class="az-stats-grid">
                        <div class="az-stat-item">
                            <span class="label">–ò—Ç–µ—Ä–∞—Ü–∏—è:</span>
                            <span class="value" id="azCurrentIter">0 / 0</span>
                        </div>
                        <div class="az-stat-item">
                            <span class="label">–°—Ç–∞—Ç—É—Å:</span>
                            <span class="value" id="azStatusText">–û–±—É—á–µ–Ω–∏–µ...</span>
                        </div>
                        <div class="az-stat-item">
                            <span class="label">–í—Ä–µ–º—è:</span>
                            <span class="value" id="azElapsedTime">0–º 0—Å</span>
                        </div>
                        <div class="az-stat-item">
                            <span class="label">GPU:</span>
                            <span class="value" id="azGpuUsed">‚Äî</span>
                        </div>
                    </div>
                    
                    <!-- Live checkpoints during training -->
                    <div id="azLiveCheckpoints" class="live-checkpoints-section hidden">
                        <h4>üíæ –î–æ—Å—Ç—É–ø–Ω—ã–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã (—Å–∫–∞—á–∞–π—Ç–µ –ø–æ–∫–∞ –∏–¥–µ—Ç –æ–±—É—á–µ–Ω–∏–µ!)</h4>
                        <p class="checkpoint-tip">‚ö†Ô∏è –°–∫–∞—á–∏–≤–∞–π—Ç–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å - –µ—Å–ª–∏ –≤—Ä–µ–º—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è, –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å!</p>
                        <div id="azCheckpointsList" class="checkpoints-list"></div>
                    </div>
                </div>
                
                <!-- Charts (always visible when data exists) -->
                <div id="azChartsSection" class="az-charts-container">
                    <div class="chart-box">
                        <h3>üìâ Loss (Policy & Value)</h3>
                        <canvas id="azLossChart" height="150"></canvas>
                    </div>
                    <div class="chart-box">
                        <h3>üìà Win Rate %</h3>
                        <canvas id="azEloChart" height="150"></canvas>
                    </div>
                </div>
                
                <!-- Panel Annotation (shown in fullscreen mode) -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>AlphaZero Deep Learning</strong> trains a neural network using self-play and Monte Carlo Tree Search (MCTS).</p>
                    <p><strong>When to use:</strong> After you have some human training data, use AlphaZero to create a stronger model through reinforcement learning.</p>
                    <p><strong>Workflow:</strong></p>
                    <ol>
                        <li>Set iterations (50-100 recommended for CPU)</li>
                        <li>Enable "Bootstrap with human data" for better starting point</li>
                        <li>Click "‚öîÔ∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å AlphaZero" to start training</li>
                        <li>Monitor Loss charts - lower is better</li>
                        <li>After training, load best checkpoint from the list</li>
                    </ol>
                    <p><strong>Key metrics:</strong> Policy Loss &lt;1.0 is good, Win Rate &gt;55% means model improved.</p>
                </div>
            </div>

            <!-- ============================================ -->
            <!-- PROBS TRAINING DASHBOARD -->
            <!-- ============================================ -->
            <div class="panel probs-panel">
                <h2>üéØ PROBS - Beam Search –û–±—É—á–µ–Ω–∏–µ</h2>
                <p class="panel-description">PROBS: Predict Result of Beam Search (2024 –∞–ª–≥–æ—Ä–∏—Ç–º)</p>
                
                <div class="probs-info-banner">
                    <p>üî¨ <strong>PROBS</strong> ‚Äî –Ω–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ AlphaZero. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Beam Search –≤–º–µ—Å—Ç–æ MCTS, –¥–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ç–∏ (Value –∏ Q-Value).</p>
                </div>
                
                <div class="probs-config-grid">
                    <div class="config-item">
                        <label for="probsIters">–ò—Ç–µ—Ä–∞—Ü–∏–∏:</label>
                        <input type="number" id="probsIters" value="100" min="1" max="500" class="input-field">
                        <small class="input-hint">High-level –∏—Ç–µ—Ä–∞—Ü–∏–∏</small>
                    </div>
                    <div class="config-item">
                        <label for="probsVEpisodes">V-train —ç–ø–∏–∑–æ–¥—ã:</label>
                        <input type="number" id="probsVEpisodes" value="500" min="10" max="5000" class="input-field">
                        <small class="input-hint">–û–±—É—á–µ–Ω–∏–µ Value –º–æ–¥–µ–ª–∏</small>
                    </div>
                    <div class="config-item">
                        <label for="probsQEpisodes">Q-train —ç–ø–∏–∑–æ–¥—ã:</label>
                        <input type="number" id="probsQEpisodes" value="250" min="10" max="2500" class="input-field">
                        <small class="input-hint">–û–±—É—á–µ–Ω–∏–µ Q –º–æ–¥–µ–ª–∏</small>
                    </div>
                    <div class="config-item">
                        <label for="probsMemEpisodes">Memory —Ä–∞–∑–º–µ—Ä:</label>
                        <input type="number" id="probsMemEpisodes" value="10000" min="500" max="50000" class="input-field">
                        <small class="input-hint">–ú–∞–∫—Å. —ç–ø–∏–∑–æ–¥–æ–≤ –≤ –ø–∞–º—è—Ç–∏</small>
                    </div>
                    <div class="config-item">
                        <label for="probsBatchSize">Batch Size:</label>
                        <input type="number" id="probsBatchSize" value="64" min="16" max="512" class="input-field">
                    </div>
                    <div class="config-item">
                        <label for="probsQCalls">Q(s,a) –≤—ã–∑–æ–≤—ã:</label>
                        <input type="number" id="probsQCalls" value="30" min="5" max="100" class="input-field">
                        <small class="input-hint">–ì–ª—É–±–∏–Ω–∞ beam search</small>
                    </div>
                    <div class="config-item">
                        <label for="probsMaxDepth">Max Depth:</label>
                        <input type="number" id="probsMaxDepth" value="50" min="3" max="200" class="input-field">
                        <small class="input-hint">–ú–∞–∫—Å. –≥–ª—É–±–∏–Ω–∞ –ø–æ–∏—Å–∫–∞</small>
                    </div>
                    <div class="config-item">
                        <label for="probsThreads">Self-play –ø–æ—Ç–æ–∫–∏:</label>
                        <input type="number" id="probsThreads" value="4" min="1" max="16" class="input-field">
                    </div>
                    <div class="config-item">
                        <label for="probsEvalGames">–ò–≥—Ä –¥–ª—è –æ—Ü–µ–Ω–∫–∏:</label>
                        <input type="number" id="probsEvalGames" value="20" min="1" max="100" class="input-field">
                    </div>
                    <div class="config-item">
                        <label for="probsProcesses">–ü—Ä–æ—Ü–µ—Å—Å—ã Q-train:</label>
                        <input type="number" id="probsProcesses" value="4" min="0" max="16" class="input-field">
                        <small class="input-hint">0 = –æ–¥–∏–Ω –ø–æ—Ç–æ–∫</small>
                    </div>
                    <div class="config-item">
                        <label for="probsDevice">Device:</label>
                        <select id="probsDevice" class="input-field">
                            <option value="cpu">CPU</option>
                            <option value="cuda">CUDA (GPU)</option>
                            <option value="auto">Auto</option>
                        </select>
                    </div>
                    <div class="config-item" style="grid-column: span 2;">
                        <label for="probsInitialCheckpoint">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å:</label>
                        <select id="probsInitialCheckpoint" class="input-field">
                            <option value="">üÜï –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å (—Å –Ω—É–ª—è)</option>
                        </select>
                        <small class="input-hint">–í—ã–±–µ—Ä–∏—Ç–µ –±–∞–∑–æ–≤—ã–µ –≤–µ—Å–∞</small>
                    </div>
                    <div class="config-item full-width" style="grid-column: span 5; display: flex; align-items: center; gap: 10px; margin-top: 10px; padding: 10px; background: rgba(0, 242, 255, 0.05); border-radius: 8px; border: 1px dashed var(--border-color);">
                        <input type="checkbox" id="probsUseBoost" checked style="width: 20px; height: 20px; cursor: pointer;">
                        <label for="probsUseBoost" style="cursor: pointer; margin-bottom: 0;">
                            üöÄ <strong>Supervised Boosting</strong>: –ü—Ä–µ-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ RL
                        </label>
                    </div>
                </div>

                <div class="probs-actions">
                    <button id="btnStartPROBS" class="btn btn-primary btn-large">
                        üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å PROBS
                    </button>
                    <button id="btnMonsterConfig" class="btn btn-secondary" style="background: linear-gradient(45deg, #ff0055, #7000ff); color: white; border: none;" title="–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ 64 —è–¥—Ä–∞ –∏ 4x GPU">
                        üî• –ú–û–ù–°–¢–†-–ö–û–ù–§–ò–ì
                    </button>
                    <button id="btnStopPROBS" class="btn btn-danger hidden">
                        ‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                    </button>
                    <button id="btnShowPROBSLogs" class="btn btn-secondary">
                        üìã –õ–æ–≥–∏
                    </button>
                    <button id="btnStartPROBSTournament" class="btn btn-warning" title="–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç—É—Ä–Ω–∏—Ä –º–µ–∂–¥—É –≤—Å–µ–º–∏ —á–µ–∫–ø–æ–π–Ω—Ç–∞–º–∏ PROBS">
                        üèÜ –¢—É—Ä–Ω–∏—Ä PROBS
                    </button>
                </div>
                
                <!-- Training Progress (shown during training) -->
                <div id="probsProgressSection" class="probs-progress-section hidden">
                    <h3>üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è PROBS</h3>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="probsProgressBar"></div>
                    </div>
                    <div class="probs-stats-grid">
                        <div class="probs-stat-item">
                            <span class="label">–ò—Ç–µ—Ä–∞—Ü–∏—è:</span>
                            <span class="value" id="probsCurrentIter">0 / 0</span>
                        </div>
                        <div class="probs-stat-item">
                            <span class="label">–°—Ç–∞—Ç—É—Å:</span>
                            <span class="value" id="probsStatusText">–û–±—É—á–µ–Ω–∏–µ...</span>
                        </div>
                        <div class="probs-stat-item">
                            <span class="label">–í—Ä–µ–º—è:</span>
                            <span class="value" id="probsElapsedTime">0–º 0—Å</span>
                        </div>
                    </div>
                </div>
                
                <!-- PROBS Checkpoints -->
                <div class="probs-checkpoints-section">
                    <h3>üíæ PROBS –ß–µ–∫–ø–æ–∏–Ω—Ç—ã</h3>
                    <div id="probsCheckpointsList" class="checkpoints-list">
                        <p class="empty-text">–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ PROBS</p>
                    </div>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>PROBS (Predict Result of Beam Search)</strong> ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º 2024 –≥–æ–¥–∞ –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ AlphaZero.</p>
                    <p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
                    <ul>
                        <li>–ú–µ–Ω–µ–µ —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª–µ–Ω –∫ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º</li>
                        <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç Beam Search –≤–º–µ—Å—Ç–æ MCTS</li>
                        <li>–î–≤–µ —Ä–∞–∑–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ç–∏: Value (–æ—Ü–µ–Ω–∫–∞ –ø–æ–∑–∏—Ü–∏–∏) –∏ Q-Value (–æ—Ü–µ–Ω–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π)</li>
                    </ul>
                    <p><strong>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å:</strong> –ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è, –≤—ã–±–µ—Ä–∏—Ç–µ "PROBS AI" (—É—Ä–æ–≤–µ–Ω—å 7) –≤ –º–µ–Ω—é —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä—ã.</p>
                </div>
            </div>
        </main>

        <!-- ============================================ -->
        <!-- GEMINI BATTLE MODE -->
        <!-- ============================================ -->
        <main class="main-content hidden" id="geminiBattleMode">
            <!-- Battle Configuration Panel -->
            <div class="panel battle-config-panel">
                <h2>‚öîÔ∏è VS Arena - –°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π</h2>
                
                <div class="config-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Player 1 Selection -->
                    <div class="config-section">
                        <label for="battleModelSelect" class="label">–ò–≥—Ä–æ–∫ 1 (–ë–µ–ª—ã–µ):</label>
                        <select id="battleModelSelect" class="input-field model-selector">
                            <optgroup label="–°–∏—Å—Ç–µ–º–Ω—ã–µ">
                                <option value="default">üß† –ê–∫—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å (Gym)</option>
                                <option value="gemini">‚ú® Google Gemini AI</option>
                            </optgroup>
                            <optgroup label="PROBS –ß–µ–∫–ø–æ–∏–Ω—Ç—ã" id="arenaProbsList1"></optgroup>
                            <optgroup label="AlphaZero –ß–µ–∫–ø–æ–∏–Ω—Ç—ã" id="arenaAzList1"></optgroup>
                        </select>
                    </div>
                    
                    <!-- Player 2 Selection -->
                    <div class="config-section">
                        <label for="battleModel2Select" class="label">–ò–≥—Ä–æ–∫ 2 (–ß—ë—Ä–Ω—ã–µ):</label>
                        <select id="battleModel2Select" class="input-field model-selector">
                            <optgroup label="–°–∏—Å—Ç–µ–º–Ω—ã–µ">
                                <option value="gemini">‚ú® Google Gemini AI</option>
                                <option value="default">üß† –ê–∫—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å (Gym)</option>
                            </optgroup>
                            <optgroup label="PROBS –ß–µ–∫–ø–æ–∏–Ω—Ç—ã" id="arenaProbsList2"></optgroup>
                            <optgroup label="AlphaZero –ß–µ–∫–ø–æ–∏–Ω—Ç—ã" id="arenaAzList2"></optgroup>
                        </select>
                    </div>
                </div>
                
                <div class="config-grid" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-top: 15px;">
                    <div class="config-item">
                        <label for="battleNumGames">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä:</label>
                        <input type="number" id="battleNumGames" min="1" max="100" value="10" class="input-field">
                    </div>
                    <div class="config-item">
                        <label for="battleTimeout">–¢–∞–π–º–∞—É—Ç Gemini (—Å–µ–∫):</label>
                        <input type="number" id="battleTimeout" min="10" max="120" value="30" class="input-field">
                    </div>
                    <div class="config-item" style="display: flex; align-items: flex-end;">
                        <label class="checkbox-label" style="margin-bottom: 10px;">
                            <input type="checkbox" id="battleSaveReplays" checked>
                            <span>–°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ–ø–ª–µ–∏</span>
                        </label>
                    </div>
                </div>
                
                <div class="battle-actions" style="margin-top: 25px; display: flex; gap: 15px;">
                    <button id="btnStartBattle" class="btn btn-primary btn-large" style="flex: 2;">
                        ‚öîÔ∏è –ù–∞—á–∞—Ç—å –°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ
                    </button>
                    <button id="btnStopBattle" class="btn btn-danger hidden">
                        ‚èπ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                    </button>
                    <button id="btnExportGeminiData" class="btn btn-secondary" style="flex: 1;">
                        üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                    </button>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>VS Arena</strong> - –ë–∏—Ç–≤–∞ —Ç–∏—Ç–∞–Ω–æ–≤! –°—Ä–∞–≤–Ω–∏—Ç–µ —Å–∏–ª—É PROBS, AlphaZero –∏ Gemini.</p>
                    <p><strong>Workflow:</strong> –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª–∏ –∏–∑ —Å–ø–∏—Å–∫–æ–≤ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ –≤–∞—à–∏ —á–µ–∫–ø–æ–∏–Ω—Ç—ã), —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä –∏ –∂–º–∏—Ç–µ ‚öîÔ∏è.</p>
                </div>
            </div>
            
            <!-- Battle Progress Panel -->
            <div class="panel battle-progress-panel">
                <h2>üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –ë–∞—Ç–ª–∞</h2>
                
                <div id="battleStatus" class="battle-status">
                    <div id="arenaMatchupDisplay" style="font-size: 1.1rem; font-weight: bold; color: var(--accent-primary); margin-bottom: 10px; text-align: center;">
                        –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞...
                    </div>
                    <div id="currentGameSides" style="background: rgba(0,0,0,0.3); padding: 8px; border-radius: 8px; margin-bottom: 15px; text-align: center; font-family: monospace; font-size: 13px;">
                        -
                    </div>
                </div>
                
                <div id="battleProgress" class="progress-container hidden">
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="battleProgressBar"></div>
                    </div>
                    <p class="progress-text" id="battleProgressText">0 / 10 –∏–≥—Ä</p>
                </div>
                
                <div id="battleStats" class="battle-stats hidden">
                    <div class="stat-row highlight">
                        <span class="stat-label">ELO –ò–≥—Ä–æ–∫–∞ 1:</span>
                        <span class="stat-value" id="modelElo">1500</span>
                        <span class="stat-category" id="modelCategory"></span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label" id="labelP1Wins">–ü–æ–±–µ–¥ –ò–≥—Ä–æ–∫–∞ 1:</span>
                        <span class="stat-value win" id="battleModelWins">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label" id="labelP2Wins">–ü–æ–±–µ–¥ –ò–≥—Ä–æ–∫–∞ 2:</span>
                        <span class="stat-value loss" id="battleGeminiWins">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">–ù–∏—á—å–∏:</span>
                        <span class="stat-value" id="battleDraws">0</span>
                    </div>
                </div>
                
                <button id="btnStopBattle" class="btn btn-danger hidden">
                    ‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–∞—Ç–ª
                </button>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Battle Progress</strong> - Monitors the ongoing competition.</p>
                    <p><strong>Key Metrics:</strong></p>
                    <ul>
                        <li><strong>ELO Rating:</strong> Calculated dynamically based on wins/losses against the opponent.</li>
                        <li><strong>Category:</strong> Your model's rank (from Novice to Grandmaster) based on its ELO.</li>
                    </ul>
                    <p><strong>Tip:</strong> If the model is losing consistently, stop the battle and try further training with different parameters.</p>
                </div>
            </div>
            
            <!-- ELO Chart Panel -->
            <div class="panel battle-chart-panel">
                <h2>üìà –ì—Ä–∞—Ñ–∏–∫ ELO –†–µ–π—Ç–∏–Ω–≥–∞</h2>
                <div class="chart-container">
                    <canvas id="eloChart" width="600" height="300"></canvas>
                </div>
                <div class="elo-legend">
                    <div class="legend-item"><span class="legend-line gm"></span> –ì—Ä–æ—Å—Å–º–µ–π—Å—Ç–µ—Ä (2400+)</div>
                    <div class="legend-item"><span class="legend-line im"></span> –ú–ú (2200)</div>
                    <div class="legend-item"><span class="legend-line master"></span> –ú–∞—Å—Ç–µ—Ä (2000)</div>
                    <div class="legend-item"><span class="legend-line cm"></span> –ö–ú–° (1800)</div>
                    <div class="legend-item"><span class="legend-line club"></span> –ö–ª—É–±–Ω—ã–π (1400)</div>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>ELO Rating Chart</strong> - Visual history of model's performance trends.</p>
                    <p><strong>Stage:</strong> Useful during "Validation" stage to see if new model versions are truly better or just lucky in a few games.</p>
                    <p><strong>Interpretation:</strong> Upward trend means the model is learning effective strategies against the opponent (Gemini or Local).</p>
                </div>
            </div>
            
            <!-- Last Game Summary Panel -->
            <div class="panel battle-summary-panel">
                <h2>üìù –†–µ–∑—é–º–µ –ü–æ—Å–ª–µ–¥–Ω–µ–π –ò–≥—Ä—ã</h2>
                <div id="lastGameSummary" class="game-summary">
                    <p class="placeholder">–†–µ–∑—é–º–µ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã...</p>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Last Game Summary</strong> - AI-generated commentary on the most recent match.</p>
                    <p><strong>Content:</strong> Key mistakes, brilliant moves, and tactical shifts observed during the game.</p>
                    <p><strong>Benefit:</strong> Helps you understand <em>why</em> a model won or lost beyond just looking at the final score.</p>
                </div>
            </div>
            
            <!-- Game Visualizer Panel -->
            <div class="panel battle-visualizer-panel">
                <h2>üé¨ –í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä –ü–∞—Ä—Ç–∏–∏</h2>
                <p class="panel-description">–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–≥—Ä—ã –Ω–∞ –¥–æ—Å–∫–µ —Å –ø–æ—à–∞–≥–æ–≤–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π</p>
                
                <!-- Game Selection -->
                <div class="visualizer-controls">
                    <div class="control-group">
                        <label>–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É:</label>
                        <select id="visualizerGameSelect" class="input-field">
                            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ --</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>–ò–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ö–æ–¥—ã:</label>
                        <textarea id="visualizerMovesInput" class="moves-input" placeholder="–§–æ—Ä–º–∞—Ç: 1,5,3,7,2,6... –∏–ª–∏ —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª–∞–º–∏"></textarea>
                        <button id="btnLoadCustomMoves" class="btn btn-secondary">üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ö–æ–¥—ã</button>
                    </div>
                </div>
                
                <!-- Visualizer Board -->
                <div class="visualizer-board-container">
                    <div class="visualizer-info-bar">
                        <div class="visualizer-player black-player">
                            <span class="player-icon">‚ö´</span>
                            <span class="player-label">–ß–Å–†–ù–´–ï</span>
                            <span class="player-score" id="vizBlackScore">0</span>
                        </div>
                        <div class="visualizer-status">
                            <span class="move-counter" id="vizMoveCounter">–•–æ–¥: 0 / 0</span>
                            <span class="current-player" id="vizCurrentPlayer">–ë–µ–ª—ã–µ</span>
                        </div>
                        <div class="visualizer-player white-player">
                            <span class="player-icon">‚ö™</span>
                            <span class="player-label">–ë–ï–õ–´–ï</span>
                            <span class="player-score" id="vizWhiteScore">0</span>
                        </div>
                    </div>
                    
                    <canvas id="visualizerBoard" class="visualizer-canvas" width="800" height="400"></canvas>
                    
                    <div class="visualizer-nav">
                        <button id="btnVizFirst" class="btn btn-small">‚èÆ</button>
                        <button id="btnVizPrev" class="btn btn-small">‚óÄ</button>
                        <button id="btnVizPlay" class="btn btn-primary">‚ñ∂Ô∏è</button>
                        <button id="btnVizNext" class="btn btn-small">‚ñ∂</button>
                        <button id="btnVizLast" class="btn btn-small">‚è≠</button>
                        <input type="range" id="vizSlider" class="viz-slider" min="0" max="100" value="0">
                    </div>
                </div>
                
                <!-- Move History -->
                <div class="visualizer-moves-list" id="vizMovesList">
                    <p class="placeholder">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É –∏–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ö–æ–¥—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</p>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Game Visualizer</strong> - Step through any game move by move on the board.</p>
                    <p><strong>How to use:</strong></p>
                    <ol>
                        <li>Select a game from dropdown (loaded from battle history)</li>
                        <li>Or paste custom moves in format: 1,5,3,7... (pit numbers 1-9)</li>
                        <li>Use navigation buttons or slider to step through moves</li>
                        <li>‚ñ∂Ô∏è button auto-plays the game</li>
                    </ol>
                    <p><strong>Move format:</strong> Numbers 1-9 representing pit to play from. White plays from bottom row, Black from top.</p>
                </div>
            </div>
            
            <!-- Battle Sessions History -->
            <div class="panel battle-sessions-panel">
                <h2>üìú –ò—Å—Ç–æ—Ä–∏—è –ë–∞—Ç–ª–æ–≤</h2>
                <div id="battleSessionsList" class="sessions-list">
                    <p class="empty-text">–ù–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –±–∞—Ç–ª–æ–≤</p>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Battle History</strong> - Record of all completed model competitions.</p>
                    <p><strong>Stats shown:</strong> Win/Loss/Draw count, ELO changes, model versions used.</p>
                    <p><strong>Tip:</strong> Click any battle to load its games into the Visualizer above.</p>
                </div>
            </div>
        </main>

        <!-- ============================================ -->
        <!-- ANALYTICS MODE - REAL DATA ONLY -->
        <!-- ============================================ -->
        <main class="main-content hidden" id="analyticsMode">
            <!-- Controls Panel -->
            <div class="panel analytics-controls-panel">
                <h2>üìä –†–µ–∞–ª—å–Ω—ã–µ –ú–µ—Ç—Ä–∏–∫–∏</h2>
                <p class="panel-description">–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–≥—Ä. –ù–∏–∫–∞–∫–∏—Ö –º–æ–∫–æ–≤.</p>
                
                <div class="controls-row">
                    <button id="btnRefreshMetrics" class="btn btn-primary">
                        üîÑ –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                    <button id="btnAutoRefresh" class="btn btn-secondary">
                        ‚ñ∂Ô∏è –ê–≤—Ç–æ
                    </button>
                    <button id="btnSyncWandB" class="btn btn-secondary">
                        ‚òÅÔ∏è –°–∏–Ω—Ö—Ä. W&B
                    </button>
                    <span id="metricsTimestamp" class="timestamp">–û–∂–∏–¥–∞–Ω–∏–µ...</span>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Real Metrics</strong> - The command center for the analytics dashboard.</p>
                    <p><strong>Workflow:</strong></p>
                    <ul>
                        <li><strong>Refresh:</strong> Manually trigger a rescan of all game log files on the server.</li>
                        <li><strong>Auto:</strong> Enable live updates as games are being played.</li>
                        <li><strong>Sync W&B:</strong> Upload these metrics to Weights & Biases for long-term experiment tracking.</li>
                    </ul>
                </div>
            </div>
            
            <!-- Gemini Battle Stats Panel -->
            <div class="panel analytics-stats-panel">
                <h2>‚öîÔ∏è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Gemini Battles</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="statTotalGames">0</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –∏–≥—Ä</div>
                    </div>
                    <div class="stat-card win">
                        <div class="stat-value" id="statModelWins">0</div>
                        <div class="stat-label">–ü–æ–±–µ–¥ –º–æ–¥–µ–ª–∏</div>
                    </div>
                    <div class="stat-card loss">
                        <div class="stat-value" id="statGeminiWins">0</div>
                        <div class="stat-label">–ü–æ–±–µ–¥ Gemini</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statDraws">0</div>
                        <div class="stat-label">–ù–∏—á—å–∏—Ö</div>
                    </div>
                    <div class="stat-card highlight">
                        <div class="stat-value" id="statWinrate">0%</div>
                        <div class="stat-label">Winrate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statAvgGameLength">0</div>
                        <div class="stat-label">–°—Ä. –¥–ª–∏–Ω–∞ –∏–≥—Ä—ã</div>
                    </div>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Gemini Battle Stats</strong> - Aggregated performance data of your active model against Gemini.</p>
                    <p><strong>Insights:</strong> Use <em>Winrate</em> and <em>Avg Game Length</em> to gauge the tactical efficiency of your model. Higher winrates against Gemini at high ELO settings indicate a robust neural network.</p>
                </div>
            </div>
            
            <!-- ELO Panel -->
            <div class="panel analytics-elo-panel">
                <h2>üèÜ ELO –†–µ–π—Ç–∏–Ω–≥</h2>
                <div class="elo-display">
                    <div class="elo-main">
                        <span class="elo-value" id="currentElo">1500</span>
                        <span class="elo-change" id="lastEloChange">+0</span>
                    </div>
                    <div class="elo-category" id="eloCategory">–ù–∞—á–∏–Ω–∞—é—â–∏–π</div>
                </div>
                <div class="elo-details">
                    <div class="detail-row">
                        <span>–ü–∏–∫:</span>
                        <span id="peakElo">1500</span>
                    </div>
                    <div class="detail-row">
                        <span>–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ:</span>
                        <span id="eloTotalGames">0</span>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="eloProgressChart" height="200"></canvas>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>ELO Rating Progress</strong> - A detailed look at the player's or model's skill evolution.</p>
                    <p><strong>Metrics:</strong> Shows the current rating, the all-time peak, and a historical trend graph. This provides a clear visualization of progress over hundreds of games.</p>
                </div>
            </div>
            
            <!-- Dataset Panel -->
            <div class="panel analytics-dataset-panel">
                <h2>üìö –î–∞—Ç–∞—Å–µ—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è</h2>
                <div class="dataset-composition">
                    <div class="composition-bar">
                        <div class="bar-segment gemini" id="barGemini" style="width: 0%"></div>
                        <div class="bar-segment self-play" id="barSelfPlay" style="width: 0%"></div>
                        <div class="bar-segment human" id="barHuman" style="width: 0%"></div>
                    </div>
                    <div class="composition-legend">
                        <span class="legend-item gemini">Gemini</span>
                        <span class="legend-item self-play">Self-Play</span>
                        <span class="legend-item human">–¢—É—Ä–Ω–∏—Ä—ã</span>
                    </div>
                </div>
                <div class="dataset-stats">
                    <div class="stat-row">
                        <span>Gemini –∏–≥—Ä:</span>
                        <span id="datasetGeminiGames">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Self-Play –∏–≥—Ä:</span>
                        <span id="datasetSelfPlayGames">0</span>
                    </div>
                    <div class="stat-row">
                        <span>–í—Å–µ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:</span>
                        <span id="datasetTotalTransitions">0</span>
                    </div>
                    <div class="stat-row">
                        <span>–†–∞–∑–º–µ—Ä –Ω–∞ –¥–∏—Å–∫–µ:</span>
                        <span id="datasetDiskSize">0 MB</span>
                    </div>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Training Dataset</strong> - Overview of all data collected for training neural networks.</p>
                    <p><strong>Components:</strong></p>
                    <ul>
                        <li><strong>Gemini:</strong> High-quality games played by the LLM.</li>
                        <li><strong>Self-Play:</strong> Large volumes of AI vs AI games.</li>
                        <li><strong>Tournament:</strong> Historical expert games from the Android APK and PlayOK.</li>
                    </ul>
                    <p><strong>Importance:</strong> A diverse dataset prevents the AI from repeating the same mistakes and helps it discover new winning patterns.</p>
                </div>
            </div>
            
            <!-- Convergence Panel -->
            <div class="panel analytics-convergence-panel">
                <h2>üìà –°—Ç–∞—Ç—É—Å –æ–±—É—á–µ–Ω–∏—è</h2>
                <div class="convergence-display">
                    <div class="convergence-status" id="convergenceStatus">‚ùì –ú–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö</div>
                    <div class="convergence-metrics">
                        <div class="metric-row">
                            <span>–î–∏—Å–ø–µ—Ä—Å–∏—è:</span>
                            <span id="convergenceVariance">N/A</span>
                        </div>
                        <div class="metric-row">
                            <span>–¢—Ä–µ–Ω–¥:</span>
                            <span id="convergenceTrend">N/A</span>
                        </div>
                    </div>
                    <p class="recommendation" id="convergenceRecommendation">
                        –ù—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
                    </p>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Training Status (Convergence)</strong> - Scientific analysis of whether the AI is actually improving over time.</p>
                    <p><strong>Metrics:</strong></p>
                    <ul>
                        <li><strong>Variance:</strong> Consistency of the AI performance. High variance means it's unpredictable.</li>
                        <li><strong>Trend:</strong> Long-term direction of the ELO rating.</li>
                    </ul>
                    <p><strong>Recommendation:</strong> Use this to decide if you need more training epochs or if the model has "plateaued" (reached its maximum potential with current architecture).</p>
                </div>
            </div>
            
            <!-- A/B Testing Panel -->
            <div class="panel analytics-ab-panel">
                <h2>üß™ A/B –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Schema</h2>
                <p class="panel-description">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Gemini</p>
                
                <button id="btnCreateExperiment" class="btn btn-secondary">
                    ‚ûï –°–æ–∑–¥–∞—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç
                </button>
                
                <div id="experimentsList" class="experiments-list">
                    <p class="empty-text">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤</p>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Schema A/B Testing</strong> - Experimental feature to test how different data formats affect Gemini LLM performance.</p>
                    <p><strong>Purpose:</strong> LLMs are sensitive to how the board is described (JSON vs Text vs Compact). This tool runs controlled batches of games to find the most "readable" format for the AI.</p>
                    <p><strong>Workflow:</strong> Create an experiment, select two different schemas, and run a set of games to see which one results in higher accuracy.</p>
                </div>
            </div>
            
            <!-- Recent Games Panel -->
            <div class="panel analytics-recent-panel">
                <h2>üïê –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–≥—Ä—ã</h2>
                <div id="recentGamesList" class="recent-games-list">
                    <p class="empty-text">–ù–µ—Ç —Å—ã–≥—Ä–∞–Ω–Ω—ã—Ö –∏–≥—Ä</p>
                </div>
                
                <!-- Panel Annotation -->
                <div class="panel-annotation">
                    <h4>üìñ About this panel</h4>
                    <p><strong>Recent Games</strong> - Chronological feed of every game played on this server.</p>
                    <p><strong>Audit Trail:</strong> Useful for spotting anomalies in AI behavior or verifying that training sessions are producing valid game files.</p>
                </div>
            </div>
        </main>

        <!-- AI Thinking Indicator -->
        <div id="aiThinking" class="thinking-indicator hidden">
            <div class="thinking-spinner"></div>
            <span>–ò–ò –¥—É–º–∞–µ—Ç...</span>
        </div>
    </div>

    <!-- FAQ Modal Popup -->
    <div id="faqModal" class="modal hidden">
        <div class="modal-content faq-modal-content">
            <div class="modal-header">
                <h2>‚ùì FAQ: –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏</h2>
                <button id="closeFaqModal" class="modal-close-btn">‚úï</button>
            </div>
            <div class="faq-modal-body">
                <div class="faq-section">
                    <h3>üìä –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–∞—Ç–∞—Å–µ—Ç–∞</h3>
                    <table class="faq-table">
                        <tr><th>–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö</th><th>–ú–∏–Ω.</th><th>–û–ø—Ç–∏–º.</th><th>–ú–∞–∫—Å.</th></tr>
                        <tr><td>–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –∏–≥—Ä—ã</td><td>500</td><td><b>2000-5000</b></td><td>50000+</td></tr>
                        <tr><td>Self-Play –∏–≥—Ä—ã</td><td>1000</td><td><b>10000-50000</b></td><td>‚àû</td></tr>
                        <tr><td>Gemini Battle</td><td>50</td><td><b>200-500</b></td><td>1000+</td></tr>
                        <tr><td>–í—Å–µ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤</td><td>50K</td><td><b>200K-1M</b></td><td>10M+</td></tr>
                    </table>
                    <p class="faq-note">–£ –≤–∞—Å —Å–µ–π—á–∞—Å: ~2300 –∏–≥—Ä, ~246K –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ - <b>—Ö–æ—Ä–æ—à–∏–π —Å—Ç–∞—Ä—Ç!</b></p>
                </div>
                
                <div class="faq-section">
                    <h3>‚öôÔ∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                    <table class="faq-table">
                        <tr><th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th><th>–ú–∏–Ω.</th><th>–û–ø—Ç–∏–º.</th><th>–ú–∞–∫—Å.</th></tr>
                        <tr><td>–≠–ø–æ—Ö–∏</td><td>10</td><td><b>50-100</b></td><td>200</td></tr>
                        <tr><td>Batch Size</td><td>32</td><td><b>128</b></td><td>512</td></tr>
                        <tr><td>Learning Rate</td><td>0.0001</td><td><b>0.001</b></td><td>0.01</td></tr>
                    </table>
                </div>
                
                <div class="faq-section">
                    <h3>üìà –û–∂–∏–¥–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏</h3>
                    <table class="faq-table">
                        <tr><th>–≠–ø–æ—Ö–∞</th><th>Loss</th><th>Accuracy</th></tr>
                        <tr><td>1</td><td>2.2</td><td>~11%</td></tr>
                        <tr><td>10</td><td>2.0</td><td>~17%</td></tr>
                        <tr><td>25</td><td>1.5</td><td>~30%</td></tr>
                        <tr><td>50</td><td>1.0</td><td>~40%</td></tr>
                        <tr><td>100</td><td>0.7</td><td>~50%</td></tr>
                    </table>
                    <p class="faq-note">Accuracy 50-60% - –æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–ª—é–¥–∏ —Ç–æ–∂–µ –æ—à–∏–±–∞—é—Ç—Å—è!)</p>
                </div>
                
                <div class="faq-section">
                    <h3>üöÄ –ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π</h3>
                    <ol class="faq-steps">
                        <li><b>–ü–∞—Ä—Å–∏–Ω–≥</b> ‚Üí —Å–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ (2300 –∏–≥—Ä)</li>
                        <li><b>–î–æ–æ–±—É—á–µ–Ω–∏–µ</b> ‚Üí 50 —ç–ø–æ—Ö, ~10 –º–∏–Ω—É—Ç</li>
                        <li><b>–ü—Ä–æ–≤–µ—Ä–∫–∞</b> ‚Üí —Å—ã–≥—Ä–∞—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ 5</li>
                        <li><b>Self-Play</b> ‚Üí 500+ –∏–≥—Ä –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è</li>
                        <li><b>Gemini Battle</b> ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å ELO</li>
                        <li><b>–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</b> ‚Üí –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ</li>
                    </ol>
                </div>
                
                <div class="faq-section">
                    <h3>üíæ –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏</h3>
                    <p>–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª—å <b>–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</b> –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è:</p>
                    <ul>
                        <li>‚úÖ –ò–≥—Ä—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ 5 (–≠–∫—Å–ø–µ—Ä—Ç)</li>
                        <li>‚úÖ Self-Play —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</li>
                        <li>‚úÖ Gemini Battle</li>
                    </ul>
                    <p class="faq-note">–ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω—è—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Fullscreen Panel Modal -->
    <div id="fullscreenModal" class="fullscreen-modal hidden">
        <div class="fullscreen-modal-content">
            <div class="fullscreen-modal-header">
                <h2 id="fullscreenModalTitle">Panel</h2>
                <button class="fullscreen-modal-close" onclick="closeFullscreenModal()">‚úï</button>
            </div>
            <div class="fullscreen-modal-body" id="fullscreenModalBody">
                <!-- Content will be injected here -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/api.js"></script>
    <script src="js/board-classic.js"></script>
    <script src="js/voice.js"></script>
    <script src="js/app.js"></script>
    <script src="js/replay.js"></script>
    <script src="js/training.js"></script>
    <script src="js/gemini-battle.js"></script>
    <script src="js/analytics.js"></script>
</body>
</html>
