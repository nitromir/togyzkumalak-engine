# üöÄ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É–¥–∞–ª—ë–Ω–Ω–æ–º—É –æ–±—É—á–µ–Ω–∏—é AlphaZero –Ω–∞ Vast.ai

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](#–æ–±–∑–æ—Ä-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
2. [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É](#–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ-–∫-—Å–µ—Ä–≤–µ—Ä—É)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∏-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-–∫–æ–¥–∞)
4. [–ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–µ—Ä–∞](#–∑–∞–ø—É—Å–∫-–±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–µ—Ä–∞)
5. [–ó–∞–ø—É—Å–∫ –º–æ—â–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è (16 GPU)](#–∑–∞–ø—É—Å–∫-–º–æ—â–Ω–æ–≥–æ-–æ–±—É—á–µ–Ω–∏—è-16-gpu)
6. [–°–∏—Å—Ç–µ–º–∞ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (–ê–Ω—Ç–∏-–∫—Ä–∞—à)](#—Å–∏—Å—Ç–µ–º–∞-—Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏-–∞–Ω—Ç–∏-–∫—Ä–∞—à)
7. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
8. [–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤](#—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)

---

## –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –õ–û–ö–ê–õ–¨–ù–´–ô –ö–û–ú–ü–¨–Æ–¢–ï–†   ‚îÇ              ‚îÇ      VAST.AI –°–ï–†–í–ï–†             ‚îÇ
‚îÇ   (Windows/Mac/Linux)   ‚îÇ              ‚îÇ   (Ubuntu + 16x RTX 3090)       ‚îÇ
‚îÇ                         ‚îÇ              ‚îÇ                                 ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ   SSH Tunnel ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ   ‚îÇ –ë—Ä–∞—É–∑–µ—Ä —Å UI    ‚îÇ‚óÑ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚ñ∫‚îÇ FastAPI Backend (8000)  ‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ              ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                         ‚îÇ              ‚îÇ              ‚îÇ                  ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ              ‚îÇ              ‚ñº                  ‚îÇ
‚îÇ   ‚îÇ Jupyter Notebook‚îÇ‚óÑ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚ñ∫‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ   ‚îÇ (–°—Ç–æ—Ä–æ–∂ + –ó–≤—É–∫) ‚îÇ   ‚îÇ              ‚îÇ   ‚îÇ AlphaZero (16 GPU)      ‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ              ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

### 1. –ü–æ–¥–Ω—è—Ç–∏–µ SSH-—Ç—É–Ω–Ω–µ–ª—è (–õ–æ–∫–∞–ª—å–Ω–æ)
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã UI –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8000`. –í—ã–ø–æ–ª–Ω—è—Ç—å –≤ PowerShell/Terminal –Ω–∞ —Å–≤–æ–µ–º –ü–ö:

```powershell
# –ó–∞–º–µ–Ω–∏ –ü–û–†–¢ –∏ IP –Ω–∞ –¥–∞–Ω–Ω—ã–µ –∏–∑ Vast.ai (–∫–Ω–æ–ø–∫–∞ SSH)
ssh -p –ü–û–†–¢ root@IP_–ê–î–†–ï–° -L 8000:localhost:8000
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

### –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–≤ Jupyter –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –∏–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–¥—Ç—è–Ω—É—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥ —Å GitHub:

```python
import subprocess
import os
import time

os.chdir('/workspace/togyzkumalak/togyzkumalak-engine')

print("üî™ –£–±–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã...")
subprocess.run("pkill -9 -f 'python run.py'", shell=True)
time.sleep(2)

print("üì• –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–¥ —Å GitHub...")
subprocess.run(['git', 'checkout', '.'], capture_output=True)
subprocess.run(['git', 'clean', '-fd'], capture_output=True)
result = subprocess.run(['git', 'pull', 'origin', 'master'], capture_output=True, text=True)
print(result.stdout)

print("‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É!")
```

---

## –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–µ—Ä–∞

### –ß–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç –±—ç–∫–µ–Ω–¥–∞ (–≤ Jupyter –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä –∏ –ø–∏—à–µ—Ç –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª—ã.

```python
import subprocess
import sys
import os
import time

os.chdir('/workspace/togyzkumalak/togyzkumalak-engine')

# –ó–∞–ø—É—Å–∫
print("üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä...")
process = subprocess.Popen(
    [sys.executable, 'run.py'],
    stdout=open('server.log', 'w'),
    stderr=open('server_error.log', 'w'),
    start_new_session=True
)
print(f"‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω! PID: {process.pid}")

time.sleep(10) # –ñ–¥–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
import requests
try:
    r = requests.get('http://localhost:8000/api/health', timeout=5)
    print(f"‚úÖ –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç: {r.json()}")
except:
    print("‚ùå –û—à–∏–±–∫–∞: –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç!")
```

---

## –ó–∞–ø—É—Å–∫ –º–æ—â–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è (16 GPU)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Ultra-Parallel
–≠—Ç–æ—Ç –∫–æ–Ω—Ñ–∏–≥ –∑–∞–¥–µ–π—Å—Ç–≤—É–µ—Ç –≤—Å–µ 16 –≤–∏–¥–µ–æ–∫–∞—Ä—Ç –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∏–≥—Ä –∏ –æ–±—É—á–µ–Ω–∏—è.

```python
import requests

power_config = {
    "numIters": 100,          # –í—Å–µ–≥–æ –∏—Ç–µ—Ä–∞—Ü–∏–π
    "numEps": 256,            # –ò–≥—Ä –∑–∞ –∏—Ç–µ—Ä–∞—Ü–∏—é (–ø–æ 16 –Ω–∞ –∫–∞–∂–¥—É—é GPU)
    "numMCTSSims": 150,       # –ì–ª—É–±–∏–Ω–∞ —Ä–∞–∑–¥—É–º–∏–π (—É–º–Ω–∞—è –º–æ–¥–µ–ª—å)
    "cpuct": 1.5,             # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
    "hidden_size": 512,       # –†–∞–∑–º–µ—Ä –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ (–º–æ—â–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
    "num_parallel_games": 16, # –†–ê–°–ü–†–ï–î–ï–õ–ï–ù–ò–ï –ü–û 16 GPU
    "use_bootstrap": True     # –û–±—É—á–µ–Ω–∏–µ –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–∞—á–∞–ª–µ
}

r = requests.post('http://localhost:8000/api/training/alphazero/start', json=power_config)
print(f"üî• –ú–û–©–ù–û–ï –û–ë–£–ß–ï–ù–ò–ï –ó–ê–ü–£–©–ï–ù–û: {r.json()}")
```

---

## –°–∏—Å—Ç–µ–º–∞ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (–ê–Ω—Ç–∏-–∫—Ä–∞—à)

### –°–∫—Ä–∏–ø—Ç-–°—Ç–æ—Ä–æ–∂ —Å–æ –∑–≤—É–∫–æ–º
–ó–∞–ø—É—Å—Ç–∏ —ç—Ç—É —è—á–µ–π–∫—É –≤ Jupyter –∏ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–π –≤–∫–ª–∞–¥–∫—É. –ï—Å–ª–∏ –æ–±—É—á–µ–Ω–∏–µ —É–ø–∞–¥–µ—Ç ‚Äî –æ–Ω –∑–∞–ø–∏—â–∏—Ç.

```python
import requests
import time
from datetime import datetime
from IPython.display import display, Javascript

def play_alarm():
    display(Javascript("var c=new AudioContext();var o=c.createOscillator();o.type='sine';o.frequency.setValueAtTime(880,c.currentTime);o.connect(c.destination);o.start();setTimeout(function(){o.stop();},2000);"))

print("üõ°Ô∏è –¢–ï–†–ü–ï–õ–ò–í–´–ô –°–¢–û–†–û–ñ –ó–ê–ü–£–©–ï–ù")
TASK_ID = "az_1766974466"

consecutive_errors = 0

while True:
    try:
        # –£–≤–µ–ª–∏—á–∏–ª–∏ —Ç–∞–π–º–∞—É—Ç –¥–æ 30 —Å–µ–∫—É–Ω–¥
        r = requests.get(f'http://localhost:8000/api/training/alphazero/sessions/{TASK_ID}', timeout=30)
        s = r.json()
        status = s.get('status')
        now = datetime.now().strftime('%H:%M:%S')
        
        print(f"\r‚úÖ {now} | Iter: {s.get('iteration')} | –ò–≥—Ä: {s.get('games_played')} | {status} | –û—à–∏–±–æ–∫: {consecutive_errors}", end="")
        
        consecutive_errors = 0 # –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –µ—Å–ª–∏ –≤—Å—ë –æ–∫
        
        if status == 'failed':
            print("\n‚ùå –°–¢–ê–¢–£–° 'FAILED'!")
            play_alarm()
            break
            
    except Exception as e:
        consecutive_errors += 1
        print(f"\r‚è≥ {datetime.now().strftime('%H:%M:%S')} | –õ–∞–≥ —Å–µ—Ç–∏ #{consecutive_errors}...", end="")
        
        # –ë—å–µ–º —Ç—Ä–µ–≤–æ–≥—É —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ 5 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥ –Ω–µ –¥–æ—Å—Ç—É—á–∞–ª–∏—Å—å (—ç—Ç–æ —É–∂–µ 2.5 –º–∏–Ω—É—Ç—ã —Ç–∏—à–∏–Ω—ã)
        if consecutive_errors >= 5:
            print("\nüö® –°–ï–†–í–ï–† –ù–ï –û–¢–í–ï–ß–ê–ï–¢ –ë–û–õ–ï–ï 2 –ú–ò–ù–£–¢!")
            play_alarm()
            break
            
    time.sleep(30)
```

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö 16 GPU
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –∑–∞–Ω—è—Ç–æ –Ω–∞ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–µ –∏ –∏—Ö —Ç–µ–∫—É—â—É—é –Ω–∞–≥—Ä—É–∑–∫—É.

```python
!nvidia-smi --query-gpu=index,utilization.gpu,memory.used,memory.total --format=csv,noheader,nounits
```

### 2. –ß—Ç–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫
–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –∏–¥–µ—Ç –Ω–µ —Ç–∞–∫, —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫ –æ—à–∏–±–æ–∫:

```python
!tail -n 20 /workspace/togyzkumalak/togyzkumalak-engine/server_error.log
```

### 3. –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –æ–±—É—á–µ–Ω–∏—è
```python
!grep -E "Iteration|Episode|Epoch|Bootstrap" /workspace/togyzkumalak/togyzkumalak-engine/server.log | tail -n 15
```

---

## –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –°–∫–∞—á–∞—Ç—å –ª—É—á—à—É—é –º–æ–¥–µ–ª—å (–Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –ü–ö)
–í—ã–ø–æ–ª–Ω—è—Ç—å –≤ PowerShell –Ω–∞ —Å–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:

```powershell
# –ó–∞–º–µ–Ω–∏ –ü–û–†–¢ –∏ IP
scp -P –ü–û–†–¢ root@IP_–ê–î–†–ï–°:/workspace/togyzkumalak/togyzkumalak-engine/models/alphazero/best.pth.tar C:\Togyzkumalak_Results\
```

---
*–û–±–Ω–æ–≤–ª–µ–Ω–æ: –î–µ–∫–∞–±—Ä—å 2025 (–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ 16x RTX 3090)*
